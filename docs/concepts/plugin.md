---
sidebar_position: 5
title: 插件机制
slug: /internal_concepts/plugin
---

# 插件机制
插件机制是 tKeel 精心打造的重磅功能，是一套以 dapr 为基础，以 [*OpenAPI*](../developer_cookbook/tkeel_plugin/openapi.md)、[*rudder*](./rudder.md)和[*keel*](./keel.md) 为核心所提供的一套可拔插架构。

* dapr 提供了底层资源的屏蔽和服务发现、身份认证和集群内服务的安全的访问的基础功能。

* rudder 负责管理插件的安装、删除、查询、健康检查和租户空间内插件的启用、停止等操作。

* Keel 是平台的一个总的流量入口，也是平台内插件和插件交互的一个代理，负责对已注册到平台的插件的相关请求路由到对应的插件的服务上去。

## 为什么需要插件机制
tKeel 致力于打造出一个拥有高扩展、可复用、可定制化的物联网开放平台，能够在各个场景下均能在 tKeel 中找到最优解。

为了达到上述目标，同时为了更好的服务于平台的两种类型（能应用开发者以及业务应用开发者）的应用开发者，在应用层面选取了插件化的可拔插架构作为基础架构。

* 插件机制能够提供一套模板化的*开发*，*接入*，*扩展*的解决方案，大大的简化了用户自定义的难度。
* 插件机制是对于上层应用而言*最通用*、*最轻量*的扩展方式。
* 插件机制能够满足不同用户的平台*定制化*，满足*轻量化*的需求。

## 插件机制设计
在 tKeel 中所有功能或扩展都以插件方式安装到平台中，所有开发者扩展的插件都是同一层级的，单类插件需支持水平横向扩展。

1. 功能或扩展可以随插件安装、升级和卸载，不会影响 tKeel 的运行。（模块化）
2. 功能是插件提供的某种能力，安装即可使用。（开箱即用）
3. 插件可以提供扩展点，其他插件可以注册到扩展点，以达到扩展的目的。（控制翻转）
4. 为了满足实施和开发应用需要，系统最初只有一个初始的核心平台，即安装后仅包含 core、rudder、keel 和依赖中间件。（最小化交付）
![image plugin devep](/images/docs/plugin_devep.png)

## 插件的管理
tKeel 通过 *OpenAPI* 规范与插件进行交互，在插件的不同生命周期中调用不同的方法，从而对插件进行管理。


> 点击[这里](../developer_cookbook/tkeel_plugin/overview.md)了解 tKeel 插件开发相关信息。