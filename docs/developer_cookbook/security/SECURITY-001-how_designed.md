---
sidebar_position: 1
title: 安全体系设计
---

## tKeel 安全机制

tKeel 安全由以下不同模块的安全机制共同完成：

- 插件安全机制：基于 Dapr 权限模型，隔离插件，插件只可以与核心插件通信
- 用户安全机制：用户采用多租户架构，在空间上划分为平台、租户，平台具备系统管理员，租户空间内有权限控制(RBAC 基于角色权限控制)
- 实体安全机制：由平台为实体颁发实体 Token ，作为实体接入平台的身份唯一标识

### 插件隔离

插件运行时由控制台启动，通过指定配置文件使插件的 dapr 边车只能与 tKeel 中 [Keel](../../concepts/keel.md) 模块通信。所有请求都需要通过 mTLS 机制实现，非 mTLS 请求则无法访问插件的 dapr 边车。

### 插件权限

插件所有的访问均通过 [Keel](../../concepts/keel.md) 代理，[Keel](../../concepts/keel.md) 通过解析插件 ID 获取租户空间级别的访问权限并 进行控制。

### 平台的控制者
**系统管理员** ：系统管理员是一个抽象的角色，拥有整个 tkeel 平台的最高权限，系统安装、系统配置、插件管理、租户管理等，均由系统管理员直接或间接通过 [rudder](../../concepts/rudder.md) 管理。

### 平台的租户

tkeel 在设计时考虑在多用户环境下实现资源共享，并保证各用户间数据的隔离性，决定参考多租户的软件架构设计。[tkeelMultiTenancy](./SECURITY-003-multi_tenancy.md.md) 

### 平台的用户

用户都属于某个租户空间内，用户的区别由角色定义，在创建租户时可附带创建一个用户，系统会默认创建 **管理员** 角色，并赋予该创建的用户，其他角色由租户管理员自定义设置，从这不难看出在租户空间内租户管理员有着最大权限，管理员可基于角色做 [权限](#用户权限控制) 分配，保证租户空间的数据访问安全。

### 实体安全机制的核心

实体安全机制的核心是平台为实体颁发的身份令牌，作为实体的凭证，实体接入平台会基于此凭证认证实体是否合法。
> 设备便是一种实体。

### 应用接口的访问

当外部以调用接口的方式访问平台时，需要通过平台的认证服务的成功认证才能访问到相应接口。[认证服务](./SECURITY-004-authentication.md) 的身份验证多样化的。
