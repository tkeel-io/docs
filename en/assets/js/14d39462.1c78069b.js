"use strict";(self.webpackChunk_tkeel_docs=self.webpackChunk_tkeel_docs||[]).push([[4352],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return m}});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=a.createContext({}),o=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},s=function(e){var n=o(e.components);return a.createElement(c.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,l=e.originalType,c=e.parentName,s=d(e,["components","mdxType","originalType","parentName"]),u=o(t),m=i,b=u["".concat(c,".").concat(m)]||u[m]||p[m]||l;return t?a.createElement(b,r(r({ref:n},s),{},{components:t})):a.createElement(b,r({ref:n},s))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var l=t.length,r=new Array(l);r[0]=u;var d={};for(var c in n)hasOwnProperty.call(n,c)&&(d[c]=n[c]);d.originalType=e,d.mdxType="string"==typeof e?e:i,r[1]=d;for(var o=2;o<l;o++)r[o]=t[o];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},766:function(e,n,t){t.r(n),t.d(n,{assets:function(){return s},contentTitle:function(){return c},default:function(){return m},frontMatter:function(){return d},metadata:function(){return o},toc:function(){return p}});var a=t(7462),i=t(3366),l=(t(7294),t(3905)),r=["components"],d={title:"\u8bbe\u5907\u57fa\u7840\u6570\u636e",sidebar_position:2},c=void 0,o={unversionedId:"developer_cookbook/device/devices/device_basicInfo",id:"developer_cookbook/device/devices/device_basicInfo",title:"\u8bbe\u5907\u57fa\u7840\u6570\u636e",description:"\u6982\u5ff5",source:"@site/docs/developer_cookbook/device/devices/device_basicInfo.md",sourceDirName:"developer_cookbook/device/devices",slug:"/developer_cookbook/device/devices/device_basicInfo",permalink:"/en/developer_cookbook/device/devices/device_basicInfo",editUrl:"https://github.com/tkeel-io/docs/tree/main/docs/developer_cookbook/device/devices/device_basicInfo.md",tags:[],version:"current",lastUpdatedAt:1651135465,formattedLastUpdatedAt:"4/28/2022",sidebarPosition:2,frontMatter:{title:"\u8bbe\u5907\u57fa\u7840\u6570\u636e",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"\u8bbe\u5907\u751f\u547d\u5468\u671f\u53ca\u7ec4\u7ec7",permalink:"/en/developer_cookbook/device/devices/device"},next:{title:"\u8bbe\u5907\u8ba2\u9605\u6570\u636e",permalink:"/en/developer_cookbook/device/devices/device_data"}},s={},p=[{value:"\u6982\u5ff5",id:"\u6982\u5ff5",level:2},{value:"1\u3001\u8bbe\u5907\u57fa\u672c\u4fe1\u606f",id:"1\u8bbe\u5907\u57fa\u672c\u4fe1\u606f",level:2},{value:"2\u3001\u8bbe\u5907\u6a21\u677f\u4fe1\u606f",id:"2\u8bbe\u5907\u6a21\u677f\u4fe1\u606f",level:2},{value:"3\u3001\u8bbe\u5907\u5c5e\u6027\u503c\u4fee\u6539",id:"3\u8bbe\u5907\u5c5e\u6027\u503c\u4fee\u6539",level:2},{value:"4\u3001\u8bbe\u5907\u547d\u4ee4\u8c03\u7528",id:"4\u8bbe\u5907\u547d\u4ee4\u8c03\u7528",level:2},{value:"5\u3001\u8bbe\u5907\u5173\u7cfb\u4fe1\u606f",id:"5\u8bbe\u5907\u5173\u7cfb\u4fe1\u606f",level:2},{value:"5.1  \u624b\u52a8\u6784\u5efa\u6570\u636e\u5173\u7cfb",id:"51--\u624b\u52a8\u6784\u5efa\u6570\u636e\u5173\u7cfb",level:3},{value:"5.1.1 \u521b\u5efa\u6570\u636e\u5173\u7cfb",id:"511-\u521b\u5efa\u6570\u636e\u5173\u7cfb",level:4},{value:"5.1.2 \u66f4\u65b0\u5355\u6761\u6570\u636e\u5173\u7cfb",id:"512-\u66f4\u65b0\u5355\u6761\u6570\u636e\u5173\u7cfb",level:4},{value:"5.1.3 \u5220\u9664\u6570\u636e\u5173\u7cfb",id:"513-\u5220\u9664\u6570\u636e\u5173\u7cfb",level:4},{value:"5.1.4 \u83b7\u53d6\u6570\u636e\u5173\u7cfb",id:"514-\u83b7\u53d6\u6570\u636e\u5173\u7cfb",level:4},{value:"5.1.5 \u83b7\u53d6\u6570\u636e\u5173\u7cfb\u5217\u8868",id:"515-\u83b7\u53d6\u6570\u636e\u5173\u7cfb\u5217\u8868",level:4},{value:"5.2 \u6839\u636e\u6a21\u677f\u81ea\u52a8\u751f\u6210\u5173\u7cfb",id:"52-\u6839\u636e\u6a21\u677f\u81ea\u52a8\u751f\u6210\u5173\u7cfb",level:3}],u={toc:p};function m(e){var n=e.components,t=(0,i.Z)(e,r);return(0,l.kt)("wrapper",(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"\u6982\u5ff5"},"\u6982\u5ff5"),(0,l.kt)("p",null,"\u8bbe\u5907\u662f\u4e00\u4e2a\u5b9e\u4f53\uff0c\u627f\u8f7d\u8fd9\u5404\u4e2a\u7ef4\u5ea6\u7684\u4fe1\u606f\uff0c\u4ee5\u4e0b\u51e0\u4e2a\u7ef4\u5ea6\u7684\u4fe1\u606f\u53ef\u76f4\u63a5\u901a\u8fc7\u67e5\u8be2\u8bbe\u5907\u5b9e\u4f53\u76f4\u63a5\u83b7\u53d6\uff0c\u76f8\u5f53\u4e8e\u8bbe\u5907\u5b9e\u4f53\u7684\u9759\u6001\u4fe1\u606f\u6216\u8005\u7531\u5e94\u7528\u53d1\u8d77\u7684\u4fe1\u606f\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u8bbe\u5907\u57fa\u672c\u4fe1\u606f\u53ca\u6269\u5c55\u4fe1\u606f"),(0,l.kt)("li",{parentName:"ul"},"\u8bbe\u5907\u6a21\u677f\u4fe1\u606f"),(0,l.kt)("li",{parentName:"ul"},"\u8bbe\u5907\u5173\u7cfb\u4fe1\u606f"),(0,l.kt)("li",{parentName:"ul"},"\u8bbe\u5907\u547d\u4ee4\u8c03\u7528")),(0,l.kt)("p",null,"\u5982\u4e0b\u4e3a\u4e00\u4e2a\u6307\u5b9a\u4e86\u8bbe\u5907\u6a21\u677f\u7684\u8bbe\u5907\u5b9e\u4f53\u7684\u83b7\u53d6\u8be6\u7ec6\u4fe1\u606f"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "code": 200,\n    "msg": "ok",\n    "data": {\n        "@type": "type.googleapis.com/api.device.v1.CreateDeviceResponse",\n        "deviceObject": {\n            "id": "bba16255-bf35-468a-b000-25181bfcdb02",\n            "plugin": "",\n            "source": "device",\n            "owner": "usr-33737945c2b718db4c309d633d2f",\n            "type": "device",\n            "mappers": [],\n            "configs": {\n                "attributes": {\n                    "define": {\n                        "fields": {\n                            "serial-2": {\n                                "define": {\n                                    "default_value": "xxxxxxxx",\n                                    "rw": "r"\n                                },\n                                "description": "\u8bbe\u5907\u6279\u6b21",\n                                "enabled": false,\n                                "enabled_search": false,\n                                "enabled_time_series": false,\n                                "id": "serial-2",\n                                "last_time": 1644460865172,\n                                "type": "string",\n                                "name":"\u5e8f\u5217\u53f7"\n                                "weight": 0\n                            }\n                        }\n                    },\n                    "description": "",\n                    "enabled": true,\n                    "enabled_search": true,\n                    "enabled_time_series": true,\n                    "id": "attributes",\n                    "last_time": 1644460865172,\n                    "type": "struct",\n                    "weight": 0\n                },\n                "telemetry": {\n                    "define": {\n                        "fields": {\n                            "voltage": {\n                                "define": {\n                                    "ext": {\n                                        "alias": "EM_BI",\n                                        "ratio_of_transformation": "0.001"\n                                    },\n                                    "max": "1000",\n                                    "min": "0",\n                                    "step": "0.1",\n                                    "unit": "v",\n                                    "unitName": "\u4f0f"\n                                },\n                                "description": "A\u76f8\u7535\u538b",\n                                "enabled": false,\n                                "enabled_search": false,\n                                "enabled_time_series": false,\n                                "id": "voltage",\n                                "last_time": 1644460950290,\n                                "type": "int",\n                                "name":"\u7535\u538b",\n                                "weight": 0\n                            }\n                        }\n                    },\n                    "description": "",\n                    "enabled": true,\n                    "enabled_search": true,\n                    "enabled_time_series": true,\n                    "id": "telemetry",\n                    "last_time": 1644460950290,\n                    "type": "struct",\n                    "weight": 0\n                }\n            },\n            "properties": {\n                "basicInfo": {\n                    "description": "test",\n                    "directConnection": false,\n                    "ext": {\n                        "commany": "qingcloud",\n                        "location": "wuhan"\n                    },\n                    "name": "sensor1",\n                    "parentId": "",\n                    "selfLearn": false,\n                    "templateId": "935b39e4-11fc-43d7-9c08-0eab66f94cc5"\n                },\n                "sysField": {\n                    "_createdAt": 1644461780472115700,\n                    "_enable": true,\n                    "_id": "bba16255-bf35-468a-b000-25181bfcdb02",\n                    "_owner": "usr-33737945c2b718db4c309d633d2f",\n                    "_source": "device",\n                    "_spacePath": "bba16255-bf35-468a-b000-25181bfcdb02",\n                    "_status": 1,\n                    "_token": "OGIxMTdlMTYtZWE5Yy0zNDE4LWE3YTktYjhiM2U3Yzk3YzE1",\n                    "_updatedAt": 1644461780472115700\n                }\n            }\n        }\n    }\n}\n')),(0,l.kt)("h2",{id:"1\u8bbe\u5907\u57fa\u672c\u4fe1\u606f"},"1\u3001\u8bbe\u5907\u57fa\u672c\u4fe1\u606f"),(0,l.kt)("p",null,"\u8bbe\u5907\u57fa\u672c \u4fe1\u606f\u5305\u542b\u521b\u5efa\u5b9a\u4e49\u7684\u4fe1\u606f \u548c \u7cfb\u7edf\u751f\u6210\u7684\u4fe1\u606f"),(0,l.kt)("p",null,"propertie \u91cc\u5206\u7c7b\u5b57\u6bb5\uff1abasicInfo  AND  sysField"),(0,l.kt)("p",null,"\u8be6\u60c5\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'"basicInfo": {  //\u521b\u5efa\u5b9a\u4e49\u7684\u8bbe\u5907\u57fa\u672c\u4fe1\u606f\n    "description": "test",       //\u8bbe\u5907\u8bf4\u660e\n    "directConnection": true,    // \u662f\u5426\u76f4\u8fde\n    "ext": {                     //\u6269\u5c55\u4fe1\u606f  \n        "commany": "qingcloud",  \n        "location": "wuhan" \n    },\n    "name": "sensor1",   //\u8bbe\u5907\u540d\u79f0\n    "parentId": "",      //\u8bbe\u5907\u7ec4ID\n    "selfLearn": false,  //\u81ea\u5b66\u4e60\u5f00\u5173\n    "templateId": "935b39e4-11fc-43d7-9c08-0eab66f94cc5" //\u8bbe\u5907\u6a21\u677fId\n},\n"sysField": {  //\u7cfb\u7edf\u751f\u4ea7\u7684\u4fe1\u606f\n    "_createdAt": 1644461780472115700,   //\u521b\u5efa\u65f6\u95f4\n    "_enable": true,                     //\u7981\u7528or \u542f\u7528  \uff08\u6682\u672a\u4f7f\u7528\uff09\n    "_id": "bba16255-bf35-468a-b000-25181bfcdb02", //\u8bbe\u5907\u5b9e\u4f53ID\n    "_owner": "usr-33737945c2b718db4c309d633d2f", //\u6240\u6709\u8005\n    "_source": "device",                          //\u6765\u6e90\u63d2\u4ef6\n    "_spacePath": "bba16255-bf35-468a-b000-25181bfcdb02", //\u7a7a\u95f4\u8def\u5f84\uff0c\u5185\u5bb9\u7531\u6240\u6709\u4e0a\u5c42\u7236ID\uff08\u8bbe\u5907\u7ec4\uff09\u62fc\u63a5\u800c\u6210\uff0c\uff08\u6b64\u5904\u6ca1\u6709\u8bbe\u5907\u7ec4\u6545\u662f\u81ea\u5df1\u7684id\uff09\u3002\n    "_status": "offline",   //\u72b6\u6001 (\u5728\u7ebfonline\u3001\u79bb\u7ebfoffline\u3001\u6a21\u62df\u5728\u7ebfSimulatedOline \u3001\u7981\u7528disable\uff09\n    "_subscribeAddr":"mqp://127.0.0.1:5672/abc",//\u8ba2\u9605\u5730\u5740   \u5982\u679c\u4e3a\u7a7a"" \u8868\u793a\u6ca1\u6709\u8ba2\u9605 \n    "_token": "OGIxMTdlMTYtZWE5Yy0zNDE4LWE3YTktYjhiM2U3Yzk3YzE1",  //\u8fde\u63a5\u7684token  \uff0c\u5982\u679c\u662f\u76f4\u8fde\u8bbe\u5907\u9700\u8fd4\u56de\u7ed9\u7528\u6237\u3002\n    "_updatedAt": 1644461780472115700  //\u66f4\u65b0\u65f6\u95f4\n}\n')),(0,l.kt)("h2",{id:"2\u8bbe\u5907\u6a21\u677f\u4fe1\u606f"},"2\u3001\u8bbe\u5907\u6a21\u677f\u4fe1\u606f"),(0,l.kt)("p",null,"\u8bbe\u5907\u5b9e\u4f53\u8be6\u60c5\u91cc\u5206\u7c7b\u5b57\u6bb5\uff1aconfigs"),(0,l.kt)("p",null,"\u8be6\u60c5\uff1a"),(0,l.kt)("p",null,"\u8bbe\u5907\u6307\u5b9a\u6a21\u677f\u521b\u5efa\u540e\uff0ccore \u7684\u64cd\u4f5c\u662f  \u5c06\u6a21\u677f\u5b9e\u4f53\u7684config \u90e8\u5206\u62f7\u8d1d\u81f3\u8bbe\u5907\u5b9e\u4f53\u7684config \u90e8\u5206\uff0c\u6b64\u90e8\u5206\u7ea6\u675f\u8bbe\u5907\u7684\u6570\u636e\uff0c\u662f\u6a21\u677f\u7ea6\u675f\u5b9a\u4e49\uff0c\u4e0d\u662f\u6a21\u677f\u6570\u636e"),(0,l.kt)("p",null,"\u6709\u4e2a\u524d\u7f6e\u6982\u5ff5\uff1a"),(0,l.kt)("p",null," \u8bbe\u5907\u5b9e\u4f53\u4e0e \u8bbe\u5907\u6a21\u677f\u5b9e\u4f53\u7684    \u533a\u522b\u5c31\u662f  \u8bbe\u5907\u5b9e\u4f53\u6709\u6570\u636e \u800c\u6a21\u677f\u5b9e\u4f53\u6ca1\u6709\u6570\u636e\n\u672c\u8d28\u5176\u5b9e\u662f\u4e00\u6837\u7684"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6545\u5173\u4e8e\u5355\u72ec\u6dfb\u52a0\u4e00\u4e2a\u5c5e\u6027\u3001\u9065\u6d4b\u3001\u547d\u4ee4\u7ed9\u8bbe\u5907\u5b9e\u4f53\uff0c\u76f8\u5f53\u4e8e\u6a21\u677f\u91cc\u7684\u6dfb\u52a0\u5c5e\u6027\u3001\u9065\u6d4b\u3001\u547d\u4ee4\u7684API \u7684ID \u586b\u5199\u4e3a\u8bbe\u5907\u5b9e\u4f53ID\u5373\u53ef\u3002 \u4e5f\u5c31\u662f\u64cd\u4f5c\u8bbe\u5907\u6a21\u677f\u5b9e\u4f53\u5bf9\u8c61\u7684API(\u5c5e\u6027\u3001\u9065\u6d4b\u3001\u547d\u4ee4)\uff0c\u540c\u6837\u9002\u7528\u4e8e\u64cd\u4f5c\u8bbe\u5907\u5b9e\u4f53\u5bf9\u8c61 ")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'"configs": {\n    "attributes": {    //\u5c5e\u6027\n        "define": {\n            "fields": {  //\u5c5e\u6027\u5217\u8868\u5b57\u6bb5\n                "serial-2": {   \n                    "define": {\n                        "default_value": "xxxxxxxx",\n                        "rw": "r"\n                    },\n                    "description": "\u8bbe\u5907\u6279\u6b21",\n                    "enabled": false,\n                    "enabled_search": false,\n                    "enabled_time_series": false,\n                    "id": "serial-2",\n                    "last_time": 1644460865172,\n                    "type": "string",\n                    "name": "\u5e8f\u5217\u53f7"\n                                "weight": 0\n                }\n            }\n        },\n        "description": "",\n        "enabled": true,\n        "enabled_search": true,\n        "enabled_time_series": true,\n        "id": "attributes",\n        "last_time": 1644460865172,\n        "type": "struct",\n        "weight": 0\n    },\n    "telemetry": {   //\u9065\u6d4b\n        "define": {\n            "fields": {   //\u8981\u6d4b\u5217\u8868\u5b57\u6bb5\n                "voltage": {\n                    "define": {\n                        "ext": {\n                            "alias": "EM_BI",\n                            "ratio_of_transformation": "0.001"\n                        },\n                        "max": "1000",\n                        "min": "0",\n                        "step": "0.1",\n                        "unit": "v",\n                        "unitName": "\u4f0f"\n                    },\n                    "description": "A\u76f8\u7535\u538b",\n                    "enabled": false,\n                    "enabled_search": false,\n                    "enabled_time_series": false,\n                    "id": "voltage",\n                    "last_time": 1644460950290,\n                    "type": "int",\n                    "name": "\u7535\u538b",\n                    "weight": 0\n                }\n            }\n        },\n        "description": "",\n        "enabled": true,\n        "enabled_search": true,\n        "enabled_time_series": true,\n        "id": "telemetry",\n        "last_time": 1644460950290,\n        "type": "struct",\n        "weight": 0\n    }\n},\n')),(0,l.kt)("h2",{id:"3\u8bbe\u5907\u5c5e\u6027\u503c\u4fee\u6539"},"3\u3001\u8bbe\u5907\u5c5e\u6027\u503c\u4fee\u6539"),(0,l.kt)("p",null,"request"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},"curl --location --request POST '127.0.0.1:31234/v1/devices/iotd-2f130021-f24b-4856-80fd-d940ef1da89b/attribute/set' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ0a2VlbCIsImV4cCI6MTY0OTM4ODU4MSwic3ViIjoidXNyLTY5MTE0YjMxNGFhZGJkMTgwMjFkMzY5NmJjNjQifQ._tHo3cMLBCNdLhLOA9IItzhXW-PHs24e2Nmr9MXpuiHiFQr2cl_ySX9O6aPnY6Tm7azuBipmib4tQ8BxKWV-Tw' \\\n--data-raw '{\n    \"id\":\"serial\",\n    \"value\": \"22xx33\"\n}'\n")),(0,l.kt)("p",null,"resopnse"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "code": "io.tkeel.SUCCESS",\n    "msg": "",\n    "data": {\n        "@type": "type.googleapis.com/google.protobuf.Empty",\n        "value": {}\n    }\n}\n')),(0,l.kt)("h2",{id:"4\u8bbe\u5907\u547d\u4ee4\u8c03\u7528"},"4\u3001\u8bbe\u5907\u547d\u4ee4\u8c03\u7528"),(0,l.kt)("p",null,"request"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'curl --location --request GET \'127.0.0.1:31234/v1/devices/iotd-2f130021-f24b-4856-80fd-d940ef1da89b/command/set\' \\\n--header \'Content-Type: application/json\' \\\n--header \'Authorization: Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ0a2VlbCIsImV4cCI6MTY0OTM4ODU4MSwic3ViIjoidXNyLTY5MTE0YjMxNGFhZGJkMTgwMjFkMzY5NmJjNjQifQ._tHo3cMLBCNdLhLOA9IItzhXW-PHs24e2Nmr9MXpuiHiFQr2cl_ySX9O6aPnY6Tm7azuBipmib4tQ8BxKWV-Tw\' \\\n--data-raw \'{\n    "id":"ota_complex",\n    "value":{\n        "input":{\n            "downCmd":{\n                "ip":"1.1.1.1",\n                "port":3200,\n                "url":"xxx.xxx.xxx",\n                "verb":"get"\n            }\n        }\n    }\n}\'\n')),(0,l.kt)("p",null,"response"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'{\n    "code": "io.tkeel.SUCCESS",\n    "msg": "",\n    "data": {\n        "@type": "type.googleapis.com/google.protobuf.Empty",\n        "value": {}\n    }\n}\n')),(0,l.kt)("p",null,"\u8bbe\u5907\u5b9e\u4f53\u5185\u5bb9 properties \u4e2d\u7684commands \u90e8\u5206"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "code": "io.tkeel.SUCCESS",\n    "msg": "",\n    "data": {\n        "@type": "type.googleapis.com/api.device.v1.GetDeviceResponse",\n        "deviceObject": {\n            "@type": "type.googleapis.com/api.core.v1.EntityResponse",\n            "configs": {\n                "commands": {\n                    "define": {\n                        "fields": {\n                            "ota_complex": {\n                                "define": {\n                                    "fields": {\n                                        "input": {\n                                            "define": {\n                                                "fields": {\n                                                    "devName": {\n                                                        "define": {},\n                                                        "description": "",\n                                                        "enabled": false,\n                                                        "enabled_search": false,\n                                                        "enabled_time_series": false,\n                                                        "id": "",\n                                                        "last_time": 1649381403413,\n                                                        "name": "\u8bbe\u5907\u540d",\n                                                        "type": "string",\n                                                        "weight": 0\n                                                    },\n                                                    "downCmd": {\n                                                        "define": {\n                                                            "fields": {}\n                                                        },\n                                                        "description": "",\n                                                        "enabled": false,\n                                                        "enabled_search": false,\n                                                        "enabled_time_series": false,\n                                                        "id": "",\n                                                        "last_time": 1649381403413,\n                                                        "name": "\u4e0b\u8f7d\u6307\u4ee4json",\n                                                        "type": "struct",\n                                                        "weight": 0\n                                                    },\n                                                    "gwId": {\n                                                        "define": {},\n                                                        "description": "",\n                                                        "enabled": false,\n                                                        "enabled_search": false,\n                                                        "enabled_time_series": false,\n                                                        "id": "",\n                                                        "last_time": 1649381403413,\n                                                        "name": "\u7f51\u5173id",\n                                                        "type": "string",\n                                                        "weight": 0\n                                                    },\n                                                    "op": {\n                                                        "define": {},\n                                                        "description": "",\n                                                        "enabled": false,\n                                                        "enabled_search": false,\n                                                        "enabled_time_series": false,\n                                                        "id": "",\n                                                        "last_time": 1649381403413,\n                                                        "name": "\u64cd\u4f5c",\n                                                        "type": "string",\n                                                        "weight": 0\n                                                    },\n                                                    "pointName": {\n                                                        "define": {},\n                                                        "description": "",\n                                                        "enabled": false,\n                                                        "enabled_search": false,\n                                                        "enabled_time_series": false,\n                                                        "id": "",\n                                                        "last_time": 1649381403413,\n                                                        "name": "\u6d4b\u70b9\u540d",\n                                                        "type": "string",\n                                                        "weight": 0\n                                                    },\n                                                    "restart": {\n                                                        "define": {\n                                                            "fields": {}\n                                                        },\n                                                        "description": "",\n                                                        "enabled": false,\n                                                        "enabled_search": false,\n                                                        "enabled_time_series": false,\n                                                        "id": "",\n                                                        "last_time": 1649381403413,\n                                                        "name": "\u91cd\u542f\u6307\u4ee4json",\n                                                        "type": "struct",\n                                                        "weight": 0\n                                                    },\n                                                    "value": {\n                                                        "define": {},\n                                                        "description": "",\n                                                        "enabled": false,\n                                                        "enabled_search": false,\n                                                        "enabled_time_series": false,\n                                                        "id": "",\n                                                        "last_time": 1649381403413,\n                                                        "name": "int\u503c",\n                                                        "type": "int",\n                                                        "weight": 0\n                                                    }\n                                                }\n                                            },\n                                            "description": "",\n                                            "enabled": false,\n                                            "enabled_search": false,\n                                            "enabled_time_series": false,\n                                            "id": "",\n                                            "last_time": 1649381403413,\n                                            "name": "\u8f93\u5165",\n                                            "type": "struct",\n                                            "weight": 0\n                                        },\n                                        "output": {\n                                            "define": {\n                                                "fields": {}\n                                            },\n                                            "description": "",\n                                            "enabled": false,\n                                            "enabled_search": false,\n                                            "enabled_time_series": false,\n                                            "id": "",\n                                            "last_time": 1649381403413,\n                                            "name": "\u8f93\u51fa",\n                                            "type": "struct",\n                                            "weight": 0\n                                        }\n                                    }\n                                },\n                                "description": "\u5728\u7ebf\u5347\u7ea7",\n                                "enabled": false,\n                                "enabled_search": false,\n                                "enabled_time_series": false,\n                                "id": "",\n                                "last_time": 1649381403413,\n                                "name": "\u5728\u7ebf\u5347\u7ea7",\n                                "type": "struct",\n                                "weight": 0\n                            }\n                        }\n                    },\n                    "description": "",\n                    "enabled": true,\n                    "enabled_search": true,\n                    "enabled_time_series": true,\n                    "id": "commands",\n                    "last_time": 1649321287046,\n                    "name": "commands",\n                    "type": "struct",\n                    "weight": 0\n                }\n            },\n            "description": "",\n            "id": "iotd-2f130021-f24b-4856-80fd-d940ef1da89b",\n            "last_time": "1649382412371",\n            "mappers": [\n                {\n                    "description": "",\n                    "id": "mapper_space_path",\n                    "name": "mapper_space_path",\n                    "tql": "insert into iotd-2f130021-f24b-4856-80fd-d940ef1da89b select iotd-usr-69114b314aadbd18021d3696bc64-defaultGroup.properties.sysField._spacePath + \'/iotd-2f130021-f24b-4856-80fd-d940ef1da89b\'  as properties.sysField._spacePath"\n                }\n            ],\n            "owner": "usr-69114b314aadbd18021d3696bc64",\n            "properties": {\n                "basicInfo": {\n                    "description": "test",\n                    "directConnection": true,\n                    "ext": {\n                        "commany": "qingcloud",\n                        "location": "wuhan"\n                    },\n                    "name": "sensor202",\n                    "parentId": "iotd-usr-69114b314aadbd18021d3696bc64-defaultGroup",\n                    "parentName": "\u9ed8\u8ba4\u5206\u7ec4",\n                    "selfLearn": false,\n                    "templateId": "iotd-29c1fca9-79eb-437b-ba9d-0dc225eb4ce0",\n                    "templateName": ""\n                },\n                "commands": {\n                    "ota_complex": {\n                        "input": {\n                            "downCmd": {\n                                "ip": "1.1.1.1",\n                                "port": 3200,\n                                "url": "xxx.xxx.xxx",\n                                "verb": "get"\n                            }\n                        }\n                    }\n                },\n                "connectInfo": {\n                    "_clientId": "",\n                    "_online": false,\n                    "_peerHost": "",\n                    "_protocol": "",\n                    "_sockPort": "",\n                    "_userName": ""\n                },\n                "sysField": {\n                    "_createdAt": 1649381802106,\n                    "_enable": true,\n                    "_id": "iotd-2f130021-f24b-4856-80fd-d940ef1da89b",\n                    "_owner": "usr-69114b314aadbd18021d3696bc64",\n                    "_source": "device",\n                    "_spacePath": "iotd-2f130021-f24b-4856-80fd-d940ef1da89b",\n                    "_status": "offline",\n                    "_subscribeAddr": "",\n                    "_token": "ZDIyODFiNDQtY2Q4ZS0zOGZiLWIxZTgtMGFjM2EzOTQ5Njdi",\n                    "_updatedAt": 1649381802106\n                }\n            },\n            "source": "device",\n            "template_id": "iotd-29c1fca9-79eb-437b-ba9d-0dc225eb4ce0",\n            "type": "device",\n            "version": "4"\n        }\n    }\n}\n')),(0,l.kt)("h2",{id:"5\u8bbe\u5907\u5173\u7cfb\u4fe1\u606f"},"5\u3001\u8bbe\u5907\u5173\u7cfb\u4fe1\u606f"),(0,l.kt)("p",null,"\u8bbe\u5907\u5b9e\u4f53\u8be6\u60c5\u91cc\u5206\u7c7b\u5b57\u6bb5\uff1aralations"),(0,l.kt)("p",null,"\u76ee\u5730\uff1a\u5efa\u7acb\u8bbe\u5907\u4e0e\u8bbe\u5907\u4e4b\u95f4\u7684 \u6570\u636e\u6620\u5c04\u5173\u7cfb"),(0,l.kt)("h3",{id:"51--\u624b\u52a8\u6784\u5efa\u6570\u636e\u5173\u7cfb"},"5.1  \u624b\u52a8\u6784\u5efa\u6570\u636e\u5173\u7cfb"),(0,l.kt)("p",null,"\u5b57\u6bb5\u8bf4\u660e"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5\u540d"),(0,l.kt)("th",{parentName:"tr",align:null},"Located in"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"expressions"),(0,l.kt)("td",{parentName:"tr",align:null},"body"),(0,l.kt)("td",{parentName:"tr",align:null},"array"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6570\u636e\u5173\u7cfb\u7684\u7ed3\u6784\u4f53 \u6570\u7ec4")))),(0,l.kt)("p",null,"\u5355\u6761\u6570\u636e\u5173\u7cfb\u7ed3\u6784\u4f53"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5\u540d"),(0,l.kt)("th",{parentName:"tr",align:null},"located in"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"path"),(0,l.kt)("td",{parentName:"tr",align:null},"body"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u5907\u5c5e\u6027or\u9065\u6d4b \u5728\u8bbe\u5907\u6570\u7ed3\u6784\u4e2did\u7684\u8def\u5f84  \u4ee5.\u8854\u63a5 \u4f8b\u5982 attributes.aaa  telemerty.bbb")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"expression"),(0,l.kt)("td",{parentName:"tr",align:null},"body"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5173\u7cfb\u8868\u8fbe\u5f0f\uff08\u53ef\u4ee5\u6269\u5c55\u7684\u5f88\u590d\u6742\uff09\uff1a \u76ee\u524d\u53ea\u662f\u6700\u7b80\u5355\u7684 =\u7b49\u4e8e \uff0c\u76ee\u6807\u8bbe\u5907\u7684\u6570\u636eid\u8def\u5f84 \u4f8b\u5982\uff1aiotd-xxx.attributes.aaa  iotd-yyy.telemerty.bbb")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"description"),(0,l.kt)("td",{parentName:"tr",align:null},"body"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},'\u53ef\u4ee5\u7528\u6765\u627f\u8f7d id \u4e0e\u540d\u5b57\u7684\u5bf9\u5e94\uff0c  \u53ef\u7528\u4e8e\u89e3\u6790\u5c55\u793a \uff0c \u4f8b\u5982 "aaa="\u7535\u538b"\uff0cbbb="\u7535\u6d41" \uff0ciotd-xxx="\u8bbe\u59071" "')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"name"),(0,l.kt)("td",{parentName:"tr",align:null},"body"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5173\u7cfb\u7684\u540d\u79f0  \u53ef\u4e3a\u7a7a")))),(0,l.kt)("p",null,"\u5047\u5982\u73b0\u5728\u67092\u4e2a\u8bbe\u5907  :"),(0,l.kt)("p",null,"  \u8bbe\u59071\uff1a \u8bbe\u5907\u540d\uff1asensor600  \u8bbe\u5907id \uff1aiotd-c0fb0b6c-d8d3-492c-b52a-7ca7adc11244     "),(0,l.kt)("p",null,"\u200b                 \u8bbe\u5907\u6a21\u677f\u91cc\u5b58\u5728 \uff1a"),(0,l.kt)("p",null,"\u200b                         1\u3001\u9065\u6d4b\u540d\uff1a\u7535\u538b\uff0c  \u9065\u6d4bid:  voltage "),(0,l.kt)("p",null,"\u200b                         2\u3001\u9065\u6d4b\u540d\uff1a\u7535\u6d41\uff0c \u9065\u6d4b id\uff1aelectricity"),(0,l.kt)("p",null,"\u200b                         3\u3001\u5c5e\u6027\u540d\uff1a\u5e8f\u5217\u53f7   \u5c5e\u6027id: serial-2"),(0,l.kt)("p",null,"  \u8bbe\u59072\uff1a \u8bbe\u5907\u540d \uff1agw600     \u8bbe\u5907id \uff1aiotd-51c0c135-a223-4cd1-aaa4-889959cc49aa      \u5f15\u7528\u4e86\u6a21\u677f"),(0,l.kt)("p",null,"\u200b                      \u8bbe\u5907\u6a21\u677f\u91cc\u5b58\u5728 \uff1a"),(0,l.kt)("p",null,"\u200b                         1\u3001\u9065\u6d4b\u540d\uff1a\u7535\u538b\uff0c  \u9065\u6d4bid:  voltage "),(0,l.kt)("p",null,"\u200b                         2\u3001\u9065\u6d4b\u540d\uff1a\u7535\u6d41\uff0c \u9065\u6d4b id\uff1aelectricity"),(0,l.kt)("p",null,"\u200b                         3\u3001\u5c5e\u6027\u540d\uff1a\u5e8f\u5217\u53f7   \u5c5e\u6027id: serial-2 "),(0,l.kt)("p",null,"\u76ee\u5730\uff1a \u8bbe\u59071 \u7684\u7535\u6d41\u3001\u7535\u538b  \u5e8f\u5217\u53f7\u7b49\u6570\u636e   \u901a\u8fc7\u201c\u9009\u62e9\u201d\u8bbe\u59072  \u6570\u636e\u6620\u5c04\u8fc7\u6765"),(0,l.kt)("h4",{id:"511-\u521b\u5efa\u6570\u636e\u5173\u7cfb"},"5.1.1 \u521b\u5efa\u6570\u636e\u5173\u7cfb"),(0,l.kt)("p",null,"request"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'curl --location --request POST \'127.0.0.1:31234/v1/devices/iotd-c0fb0b6c-d8d3-492c-b52a-7ca7adc11244/relation\' \\\n--header \'Authorization: Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ0a2VlbCIsImV4cCI6MTY1MDUxMjM1Nywic3ViIjoidXNyLTY5MTE0YjMxNGFhZGJkMTgwMjFkMzY5NmJjNjQifQ.IGawL3e5rS7lID-WExXMKJgueJtmHGQMJe7md04P2_snDzGxjI8eFntQ7AhcZqNKLEtQJuftX0mTSiNtL9C_Gw\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "expressions": [\n        {\n            "path": "telemetry.electricity",\n            "expression": "iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa.telemetry.electricity",\n            "description": "electricity=\u7535\u6d41, iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa=gw600",\n            "name": ""\n        },\n        {\n            "path": "telemetry.voltage",\n            "expression": "iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa.telemetry.voltage",\n            "description": "electricity=\u7535\u538b, iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa=gw600",\n            "name": ""\n        },\n        {\n            "path": "attributes.serial-2",\n            "expression": "iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa.attributes.serial-2",\n            "description": "serial-2=\u5e8f\u5217\u53f7, iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa=gw600",\n            "name": ""\n        }\n    ]\n}\'\n')),(0,l.kt)("p",null,"response"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "code": "io.tkeel.SUCCESS",\n    "msg": "",\n    "data": {\n        "@type": "type.googleapis.com/google.protobuf.Empty",\n        "value": {}\n    }\n}\n')),(0,l.kt)("h4",{id:"512-\u66f4\u65b0\u5355\u6761\u6570\u636e\u5173\u7cfb"},"5.1.2 \u66f4\u65b0\u5355\u6761\u6570\u636e\u5173\u7cfb"),(0,l.kt)("p",null,"request "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'curl --location --request PUT \'127.0.0.1:31234/v1/devices/iotd-c0fb0b6c-d8d3-492c-b52a-7ca7adc11244/relation\' \\\n--header \'Authorization: Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ0a2VlbCIsImV4cCI6MTY1MDUxMjM1Nywic3ViIjoidXNyLTY5MTE0YjMxNGFhZGJkMTgwMjFkMzY5NmJjNjQifQ.IGawL3e5rS7lID-WExXMKJgueJtmHGQMJe7md04P2_snDzGxjI8eFntQ7AhcZqNKLEtQJuftX0mTSiNtL9C_Gw\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "expressions": [\n        {\n            "path": "telemetry.electricity",\n            "expression": "iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa.telemetry.electricity",\n            "description": "electricity=\u7535\u6d41_update, iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa=gw600",\n            "name": ""\n        },\n        {\n            "path": "telemetry.voltage",\n            "expression": "iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa.telemetry.voltage",\n            "description": "electricity=\u7535\u538b_update, iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa=gw600",\n            "name": ""\n        },\n        {\n            "path": "attributes.serial-2",\n            "expression": "iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa.attributes.serial-2",\n            "description": "serial-2=\u5e8f\u5217\u53f7_update, iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa=gw600",\n            "name": ""\n        }\n    ]\n}\'\n')),(0,l.kt)("p",null,"response"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "code": "io.tkeel.SUCCESS",\n    "msg": "",\n    "data": {\n        "@type": "type.googleapis.com/google.protobuf.Empty",\n        "value": {}\n    }\n}\n')),(0,l.kt)("h4",{id:"513-\u5220\u9664\u6570\u636e\u5173\u7cfb"},"5.1.3 \u5220\u9664\u6570\u636e\u5173\u7cfb"),(0,l.kt)("p",null,"request"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},"curl --location --request POST '127.0.0.1:31234/v1/devices/iotd-c0fb0b6c-d8d3-492c-b52a-7ca7adc11244/relation/delete' \\\n--header 'Authorization: Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ0a2VlbCIsImV4cCI6MTY1MDUxMjM1Nywic3ViIjoidXNyLTY5MTE0YjMxNGFhZGJkMTgwMjFkMzY5NmJjNjQifQ.IGawL3e5rS7lID-WExXMKJgueJtmHGQMJe7md04P2_snDzGxjI8eFntQ7AhcZqNKLEtQJuftX0mTSiNtL9C_Gw' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"paths\":[\"voltage\"]\n}'\n")),(0,l.kt)("p",null,"response"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "code": "io.tkeel.SUCCESS",\n    "msg": "",\n    "data": {\n        "@type": "type.googleapis.com/google.protobuf.Empty",\n        "value": {}\n    }\n}\n')),(0,l.kt)("h4",{id:"514-\u83b7\u53d6\u6570\u636e\u5173\u7cfb"},"5.1.4 \u83b7\u53d6\u6570\u636e\u5173\u7cfb"),(0,l.kt)("p",null,"request"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},"curl --location --request GET '127.0.0.1:31234/v1/devices/iotd-c0fb0b6c-d8d3-492c-b52a-7ca7adc11244/relation/attributes.serial-2' \\\n--header 'Authorization: Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ0a2VlbCIsImV4cCI6MTY1MDUyNjMzMywic3ViIjoidXNyLTY5MTE0YjMxNGFhZGJkMTgwMjFkMzY5NmJjNjQifQ.3m5dhauUQL-VVXycCBC8OH-KhuWixprMNVIp_z45kUp4gauEeEFhKXcyK44_ObbgOV93CgYrr42AG4P4jnas_g' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n\n}'\n")),(0,l.kt)("p",null,"response"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "code": "io.tkeel.SUCCESS",\n    "msg": "",\n    "data": {\n        "@type": "type.googleapis.com/api.device.v1.GetDeviceDataRelationResponse",\n        "expressions": {\n            "@type": "type.googleapis.com/api.core.v1.GetExpressionResp",\n            "entity_id": "iotd-c0fb0b6c-d8d3-492c-b52a-7ca7adc11244",\n            "expression": {\n                "description": "serial-2=\u5e8f\u5217\u53f7_update, iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa=gw600",\n                "expression": "iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa.properties.attributes.serial-2",\n                "name": "",\n                "path": "attributes.serial-2"\n            },\n            "owner": "usr-69114b314aadbd18021d3696bc64"\n        }\n    }\n}\n')),(0,l.kt)("h4",{id:"515-\u83b7\u53d6\u6570\u636e\u5173\u7cfb\u5217\u8868"},"5.1.5 \u83b7\u53d6\u6570\u636e\u5173\u7cfb\u5217\u8868"),(0,l.kt)("p",null,"request"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},"curl --location --request GET '127.0.0.1:31234/v1/devices/iotd-c0fb0b6c-d8d3-492c-b52a-7ca7adc11244/relation' \\\n--header 'Authorization: Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ0a2VlbCIsImV4cCI6MTY1MDUyNjMzMywic3ViIjoidXNyLTY5MTE0YjMxNGFhZGJkMTgwMjFkMzY5NmJjNjQifQ.3m5dhauUQL-VVXycCBC8OH-KhuWixprMNVIp_z45kUp4gauEeEFhKXcyK44_ObbgOV93CgYrr42AG4P4jnas_g' \\\n--data-raw ''\n")),(0,l.kt)("p",null,"response"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "code": "io.tkeel.SUCCESS",\n    "msg": "",\n    "data": {\n        "@type": "type.googleapis.com/api.device.v1.ListDeviceDataRelationResponse",\n        "expressionObject": {\n            "@type": "type.googleapis.com/api.core.v1.ListExpressionResp",\n            "entity_id": "iotd-c0fb0b6c-d8d3-492c-b52a-7ca7adc11244",\n            "expressions": [\n                {\n                    "description": "serial-2=\u5e8f\u5217\u53f7_update, iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa=gw600",\n                    "expression": "iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa.properties.attributes.serial-2",\n                    "name": "",\n                    "path": "attributes.serial-2"\n                },\n                {\n                    "description": "electricity=\u7535\u6d41_update, iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa=gw600",\n                    "expression": "iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa.properties.telemetry.electricity",\n                    "name": "",\n                    "path": "telemetry.electricity"\n                },\n                {\n                    "description": "electricity=\u7535\u538b_update, iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa=gw600",\n                    "expression": "iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa.properties.telemetry.voltage",\n                    "name": "",\n                    "path": "telemetry.voltage"\n                }\n             \n            ],\n            "owner": "usr-69114b314aadbd18021d3696bc64"\n        }\n    }\n}\n')),(0,l.kt)("h3",{id:"52-\u6839\u636e\u6a21\u677f\u81ea\u52a8\u751f\u6210\u5173\u7cfb"},"5.2 \u6839\u636e\u6a21\u677f\u81ea\u52a8\u751f\u6210\u5173\u7cfb"),(0,l.kt)("p",null,"\u81ea\u52a8\u6784\u5efa\u6570\u636e\u6620\u5c04\u5173\u7cfb\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u5b57\u6bb5\u540d"),(0,l.kt)("th",{parentName:"tr",align:null},"located in"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"curName"),(0,l.kt)("td",{parentName:"tr",align:null},"body"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d\u8bbe\u5907\u540d")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"direction"),(0,l.kt)("td",{parentName:"tr",align:null},"body"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5173\u7cfb\u65b9\u5411\uff1a\u76ee\u524d\u53ea\u586b\uff1afrom")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"relationType"),(0,l.kt)("td",{parentName:"tr",align:null},"body"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5173\u7cfb\u7c7b\u578b\uff1a\u76ee\u524d\u53ea\u586b\uff1acontain")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"targetName"),(0,l.kt)("td",{parentName:"tr",align:null},"body"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6765\u6e90\u8bbe\u5907\u540d\u79f0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"targetId"),(0,l.kt)("td",{parentName:"tr",align:null},"body"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6765\u6e90\u8bbe\u5907id")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"targetTyep"),(0,l.kt)("td",{parentName:"tr",align:null},"body"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6765\u6e90\u8bbe\u5907\u7c7b\u578b\uff1a\u76ee\u524d\u53ea\u586b\uff1adevice")))),(0,l.kt)("p",null,"\u540e\u53f0\u903b\u8f91\u8bf4\u660e\uff1a"),(0,l.kt)("p",null,"1\u3001\u83b7\u53d6\u8bbe\u59071\u7684\u5b57\u6bb5"),(0,l.kt)("p",null,"\u200b        1.1  \u6839\u636e\u8bbe\u59071\u6a21\u677fconfigs \u5185\u5bb9\u83b7\u53d6  "),(0,l.kt)("p",null,"2\u3001\u83b7\u53d6\u8bbe\u59072 \u7684 \u6570\u636e\u5b57\u6bb5"),(0,l.kt)("p",null,"\u200b        1.1  \u6839\u636e\u8bbe\u59072\u6a21\u677fconfigs \u5185\u5bb9\u83b7\u53d6"),(0,l.kt)("p",null,"\u200b        1.2   \u6839\u636e\u8bbe\u59072\u6570\u636e properties \u5185\u5bb9\u83b7\u53d6"),(0,l.kt)("p",null,"\u200b        1.3  \u4e0d\u7ba1\u8bbe\u59072 \u662f\u5426\u5b58\u5728\u5b57\u6bb5\uff0c\u5173\u7cfb\u5148\u6784\u5efa\uff0c\u5982\u679c\u6709\u6570\u636e\u6765\u5c31\u4f1a\u5bf9\u5e94\u4e0a\uff08\u5148\u8fd9\u4e48\u505a\uff09\u3002"),(0,l.kt)("p",null,"\u200b                   \u5b9e\u9645\u73b0\u5b9e\u60c5\u51b5\u4f1a\u9762\u4e34\u5982\u4e0b\u60c5\u51b5\uff08\u9488\u5bf9\u9065\u6d4b\uff09\uff1a"),(0,l.kt)("p",null,"\u200b                    1\u3001\u5982\u679c\u8bbe\u59072\u662f\u7f51\u5173\u8bbe\u5907",(0,l.kt)("br",{parentName:"p"}),"\n","\u200b                            1\u3001\u9065\u6d4b\u6570\u636e\u53ef\u80fd\u4f1a\u975e\u5e38\u591a\uff0c \u6240\u4ee5\u7f51\u5173\u7684\u6a21\u677f\uff08\u81ea\u5b66\u4e60\u6216\u624b\u52a8\u6784\u5efa\uff09\u4e0d\u662f\u5fc5\u987b\u7684"),(0,l.kt)("p",null,"\u200b                            2\u3001\u7f51\u5173\u7684\u91c7\u96c6\u9065\u6d4b\u6570\u636e \u5b57\u6bb5  \u4e0e \u5b9e\u9645 \u5e73\u53f0\u4f7f\u7528\u662f\u4e0d\u540c\u7684\u89c4\u8303\u6216\u8005\u5382\u5bb6 \u6216\u8005\u6807\u51c6 \uff0c\u6240\u4ee5\u8bbe\u59071\u4e2d\u7684\u5b57\u6bb5\u5bf9\u5e94\u8bbe\u59072\u6570\u636e\u5b57\u6bb5\u9700\u8981\u6620\u5c04"),(0,l.kt)("p",null,"\u200b                            3\u3001\u683c\u5f0f\u53ef\u80fd\u662f\u6d88\u606f\u89c4\u8303\u7684\u5e73\u94fa\u683c\u5f0f  \uff0c\u4e5f\u53ef\u80fd\u662f\u6d88\u606f\u89c4\u8303\u7684\u5e26\u5b50\u8bbe\u5907\u540d\u7684\u683c\u5f0f\uff0c\u6240\u4ee5\u8bbe\u59071\u6570\u636e\u6620\u5c04\u9700\u8981\u627e\u5230\u5177\u4f53\u8bbe\u59072\u6570\u636e\u5185\u5bb9\u7684\u5b50\u8bbe\u5907\u53ca\u5176\u6570\u636e\u5b57\u6bb5"),(0,l.kt)("p",null,"\u200b                            "),(0,l.kt)("p",null,"\u200b                         \u89e3\u51b3\u5982\u4e0a\u95ee\u9898 \uff1a \u5728\u6a21\u677f\u7684\u9065\u6d4b\u7684\u6269\u5c55\u914d\u7f6e\u53ef\u914d\u7f6e\u5982\u4e0bkey"),(0,l.kt)("p",null,"\u200b                                                     1\u3001 alias : \u9762\u5bf9\u60c5\u51b52"),(0,l.kt)("p",null,"\u200b                                                            \u4f8b\u5982\uff1a "),(0,l.kt)("p",null,"\u200b                                                                         \u60c5\u51b5\uff1a\t\u8bbe\u59071 \u6a21\u677f\u6709\u4e00\u4e2a\u9065\u6d4b\u53eb\uff1a1001   \u662f\u6309\u7167\u4e92\u8054\u7f51\u57fa\u7840\u8bbe\u8bbe\u65bd\u76d1\u63a7\u6807\u51c6\u89c4\u8303\u5efa\u7acb\u7684"),(0,l.kt)("p",null,"\u200b                                                                         \t\t\t\t\u8bbe\u59072\u7f51\u5173\u7684\u91c7\u96c6\u7684\u6b64\u6570\u636e\u6709\u4e00\u4e2a\u6709\u81ea\u5df1\u903b\u8f91\u7684\u5382\u5546\u91c7\u96c6\u547d\u540d\u4e3a\uff1aAL_EL"),(0,l.kt)("p",null,'\u200b                                                                          \u89e3\u51b3\uff1a  \u5728\u8bbe\u59071\u6a21\u677f1001\u9065\u6d4b\u7684\u6269\u5c55\u914d\u7f6e\u91cc\u914d\u7f6e\uff1amapper_alias="AL_EL" \uff08key \u8f93\u5165\u6846\u8f93\u5165maaper_alias, \u503c\u8f93\u5165\u6846\u8f93\u5165AL_EL\uff09,\u81ea\u52a8\u6620\u5c04\u65f6\u5019\u4f1a\u81ea\u52a8\u8f6c\u6362\uff0c\u6620\u5c04\u8bbe\u59072 \u7684AL_EL \u5b57\u6bb5'),(0,l.kt)("p",null,"\u200b                                                      2\u3001 profix  :\u9762\u5bf9\u60c5\u51b5 3"),(0,l.kt)("p",null,"\u200b                                                                 \u4f8b\u5982\uff1a "),(0,l.kt)("p",null,"\u200b                                                                                \u60c5\u51b5\uff1a \u8bbe\u59071\u6a21\u677f\u6709\u4e00\u4e2a\u9065\u6d4b\u53eb\uff1a va\n\u200b                                                                                             \u8bbe\u59072\u7f51\u5173 \u7684\u9065\u6d4b\u4e0a\u62a5\u7684\u5e26\u5b50\u8bbe\u5907\u540d\u7684\u6d88\u606f\u683c\u5f0f\uff1a "),(0,l.kt)("p",null,'\u200b                                                                                               "dev1":{'),(0,l.kt)("p",null,"\u200b                                                                                                       va:1,"),(0,l.kt)("p",null,"\u200b                                                                                                        v1:2,"),(0,l.kt)("p",null,"\u200b                                                                                                         vc:3 "),(0,l.kt)("p",null,"\u200b                                                                                              }"),(0,l.kt)("p",null,'\u200b                                                                                  \u89e3\u51b3\uff1a   \u5728\u8bbe\u59071\u6a21\u677f1001\u9065\u6d4b\u7684\u6269\u5c55\u914d\u7f6e\u91cc\u914d\u7f6e\uff1amappr_prefix="dev1"\uff08key\u8f93\u5165\u6846\u8f93\u5165mapper_prefix,\u503c\u8f93\u5165\u6846\u8f93\u5165dev1\uff09 ,\u81ea\u52a8\u6620\u5c04\u65f6\u5019\u4f1a\u52a0\u4e0a\u6b64\u524d\u7f00\u627e\u5230dev1 \u4e0b\u9762\u7684va \u5b57\u6bb5'),(0,l.kt)("p",null,"\u200b                                                   "),(0,l.kt)("p",null,"\u200b                                                      3\u3001 2  \u548c  3 \u7684\u60c5\u51b5 \u53ef\u4ee5\u7ec4\u5408\u5b58\u5728"),(0,l.kt)("p",null,"request"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'curl --location --request POST \'127.0.0.1:31234/v1/devices/iotd-78ec2d93-46b9-4f55-84e4-34c0c1bd2aa7/relation/auto\' \\\n--header \'Authorization: Bearer eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJ0a2VlbCIsImV4cCI6MTY1MDUzNzA0MCwic3ViIjoidXNyLTY5MTE0YjMxNGFhZGJkMTgwMjFkMzY5NmJjNjQifQ.XoLVO6vnPsPzAwQQl0Fvr9HdsNzTfZXtS5pOU8nSB37-n2CthuuExLXmweqdHqKrBGTjMZDaYW1EEuSgCsKzuA\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "curName":"sensor600",\n    "direction":"from",\n    "relationType":"contain",\n    "targetName":"gw600",\n    "targetId":"iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa",\n    "targetType":"device"\n}\'\n')),(0,l.kt)("p",null,"resoponse"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "code": "io.tkeel.SUCCESS",\n    "msg": "",\n    "data": {\n        "@type": "type.googleapis.com/api.device.v1.CreateDeviceDataRelationAutoResponse",\n        "expressionObject": {\n            "@type": "type.googleapis.com/api.core.v1.ListExpressionResp",\n            "entity_id": "iotd-78ec2d93-46b9-4f55-84e4-34c0c1bd2aa7",\n            "expressions": [\n                {\n                    "description": "iotd-78ec2d93-46b9-4f55-84e4-34c0c1bd2aa7=sensor600,electricity=\u7535\u6d41,iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa=gw600",\n                    "expression": "iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa.properties.telemetry.electricity",\n                    "name": "electricity",\n                    "path": "telemetry.electricity"\n                },\n                {\n                    "description": "iotd-78ec2d93-46b9-4f55-84e4-34c0c1bd2aa7=sensor600,voltage=\u7535\u538b,iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa=gw600",\n                    "expression": "iotd-51c0c135-a223-4cd1-aaa4-889959cc49aa.properties.telemetry.voltage",\n                    "name": "voltage",\n                    "path": "telemetry.voltage"\n                }\n            ],\n            "owner": "usr-69114b314aadbd18021d3696bc64"\n        }\n    }\n}\n')))}m.isMDXComponent=!0}}]);